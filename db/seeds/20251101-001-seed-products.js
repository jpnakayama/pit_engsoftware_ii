'use strict';
module.exports = {
  async up (queryInterface) {
    // Remove primeiro os order_items que referenciam produtos (por causa da FK RESTRICT)
    await queryInterface.bulkDelete('order_items', null, {});
    
    // Agora pode remover os produtos sem violar constraint
    await queryInterface.bulkDelete('products', null, {});
    
    await queryInterface.bulkInsert('products', [
      { name: 'Cupcake do Mês', description: 'Delicioso cupcake de framboesa com cobertura de chocolate', details: 'Uma combinação perfeita de sabores: a acidez suave da framboesa fresca com a intensidade do chocolate belga. Este cupcake apresenta uma massa delicada com pedaços de framboesa, recheio cremoso e cobertura de chocolate que derrete na boca. Uma explosão de sabores a cada mordida! O cupcake do mês é cuidadosamente selecionado para oferecer uma experiência única e especial.', price_cents: 1350, is_cupcake_of_month: true, month_discount_percent: 22, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Brigadeiro', description: 'Bolo de chocolate com cobertura de brigadeiro de verdade, feito com Leite Moça Nestlé!', details: 'O clássico brasileiro em formato de cupcake! Nossa massa de chocolate é rica e fofinha, coberta com brigadeiro autêntico feito com Leite Moça Nestlé. Cada mordida é uma homenagem à doçura brasileira, com a textura cremosa do brigadeiro que derrete na boca. Um verdadeiro sabor de infância em cada pedaço!', price_cents: 1300, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Red Velvet', description: 'Bolinho de baunilha e cacau e cobertura de cream cheese frosting Philadelphia. O tradicional!', details: 'O famoso Red Velvet com nossa receita especial! A massa tem uma cor vibrante e um sabor suave de baunilha e cacau que é único. A cobertura de cream cheese frosting Philadelphia é cremosa, levemente ácida e combina perfeitamente. Um cupcake elegante que nunca sai de moda.', price_cents: 1300, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Chocolate', description: 'Massa de cacau, cobertura de brigadeiro', details: 'Para os amantes de chocolate! Nossa massa é feita com cacau de qualidade, resultando em um sabor intenso e marcante. A cobertura de brigadeiro cremoso complementa perfeitamente, criando uma experiência de chocolate do início ao fim. Simples, mas irresistível!', price_cents: 900, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Baunilha', description: 'Clássico, cobertura de creme', details: 'O eterno clássico que nunca decepciona! Nossa massa de baunilha é delicada e aromática, feita com essência natural de baunilha. A cobertura de creme é suave e doce, sem ser excessiva. Perfeito para quem aprecia sabores tradicionais e refinados. A simplicidade feita com excelência.', price_cents: 850, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Nutella', description: 'Massa de chocolate com recheio e cobertura de Nutella', details: 'O favorito dos amantes de Nutella! Este cupcake é uma verdadeira celebração do sabor único da Nutella. A massa de chocolate abriga um generoso recheio cremoso de Nutella, e tudo é coberto com mais Nutella cremosa. Cada mordida é uma experiência indulgente e irresistível!', price_cents: 1100, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Limão', description: 'Bolinho de limão com cobertura de cream cheese e raspas de limão', details: 'Refrescante e cítrico, este cupcake de limão é perfeito para quem busca sabores mais leves. A massa tem um toque delicado de limão, enquanto a cobertura de cream cheese equilibra a acidez. As raspas de limão dão um toque final especial. Ideal para o café da tarde!', price_cents: 950, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Morango', description: 'Massa de baunilha com recheio e cobertura de morango', details: 'Doce e suave, este cupcake de morango é feito com morangos frescos. A massa de baunilha é fofinha e serve como base perfeita para o recheio cremoso de morango e a cobertura especial. Cada pedaço oferece a doçura natural do morango em uma experiência completa e deliciosa.', price_cents: 1050, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Café', description: 'Massa com essência de café e cobertura de chantilly', details: 'Para os amantes de café! Este cupcake combina perfeitamente o sabor intenso do café com a suavidade do chantilly. A massa tem um aroma e sabor marcante de café, enquanto a cobertura de chantilly cria um contraste delicioso. Perfeito para acompanhar um bom café ou como sobremesa após o almoço.', price_cents: 980, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Caramelo', description: 'Bolinho de baunilha com recheio de caramelo e ganache', details: 'Doce e sofisticado, este cupcake de caramelo é uma verdadeira tentação. A massa de baunilha é macia e serve como base para um generoso recheio de caramelo cremoso. A cobertura de ganache de caramelo adiciona camadas de sabor e textura. Uma experiência doce e indulgente do início ao fim.', price_cents: 1100, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Coco', description: 'Massa de coco com cobertura de chantilly e coco ralado', details: 'Tropical e refrescante, este cupcake de coco transporta você para o paraíso! A massa é feita com coco natural, oferecendo um sabor autêntico e marcante. A cobertura de chantilly é suave e o coco ralado adiciona textura e sabor. Perfeito para quem adora sabores tropicais e refrescantes.', price_cents: 920, image_url: null, created_at: new Date(), updated_at: new Date() },
      { name: 'Cupcake Cookies & Cream', description: 'Massa de chocolate com pedaços de biscoito e cobertura cremosa', details: 'Uma combinação perfeita de texturas e sabores! A massa de chocolate é rica e contém pedaços crocantes de biscoito, criando uma experiência única. A cobertura cremosa complementa perfeitamente, oferecendo um equilíbrio entre o doce do chocolate e a textura crocante do biscoito. Um cupcake que satisfaz todos os desejos!', price_cents: 1150, image_url: null, created_at: new Date(), updated_at: new Date() }
    ]);
  },
  async down (queryInterface) {
    // Remove order_items primeiro
    await queryInterface.bulkDelete('order_items', null, {});
    // Depois remove produtos
    await queryInterface.bulkDelete('products', null, {});
  }
};
